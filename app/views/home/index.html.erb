<div class="dm-homepage">
  <div class="dm-system-message">
    <%= render partial: "shared/messages", locals: {small_text: false} %>
  </div>
  <!-- "Welcome" section -->
  <section class="homepage-welcome-banner dm-gradient-banner-318" role="region" aria-label="Homepage welcome banner">
    <div class="grid-container height-full">
      <div class="grid-row height-full flex-align-center">
        <div class="grid-col-12">
          <h1 class="usa-prose-h1 text-white margin-top-4 margin-bottom-4 desktop:margin-top-0">Welcome to the Diffusion Marketplace</h1>
          <div class="grid-row position-relative">
            <div class="homepage-welcome-banner-body-text-container grid-col-12 desktop:grid-col-7 padding-right-105">
              <p class="usa-prose-body text-white margin-bottom-2">
                We’re a discovery and collaboration tool that curates VA’s promising practices, encourages their diffusion, and fosters engagement with greater healthcare communities.
              </p>
              <%= link_to 'Learn more', about_path, class: 'dm-alt-link-gold' %>
            </div>
            <div class="homepage-welcome-banner-image-container text-white grid-col-12 tablet:grid-col-6 desktop:grid-col-5 desktop:padding-left-105">
              <img
                class="display-block padding-left-0"
                <%# TODO: Add homepage banner image source here %>
                src=""
                alt="Welcome banner image"/>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="homepage-search grid-container margin-top-4 margin-bottom-4 desktop:margin-bottom-8 desktop:margin-top-10" role="region" aria-label="Homepage search section">
    <form id="dm-homepage-search-form" class="usa-search margin-bottom-2" role="search">
      <label class="usa-sr-only" for="dm-homepage-search-form">
        Homepage search
      </label>
      <div class="dm-homepage-search-container width-full">
        <input class="usa-input height-5" id="dm-homepage-search-field" type="search" name="search" title="Search for practices" placeholder="&quot;Search terms&quot;">
        <button id="dm-homepage-search-button" class="usa-button height-5" type="submit">
          <span class="usa-search__submit-text">Search</span>
        </button>
      </div>
    </form>
    <p class="usa-prose-body">
      <%= link_to 'Browse all practices', search_path, class: 'dm-primary-link' %>
    </p>
  </section>
  <%# TODO: Write conditional to only show this partial if there's a currently selected 'Featured' topic %>
  <%= render partial: 'home/featured_section', locals: {
      section_name: 'topic',
      # TODO: Add topic image source
      image_source: "",
      # TODO: Interpolate topic name in front of 'featured topic image' for alt text
      image_alt_text: 'Featured topic image',
      # TODO: Add name of topic for h2
      featured_h2: 'Featured topic name',
      # TODO: Add topic text for body text
      featured_body_text: 'Proin blandit felis tincidunt justo luctus, rutrum bibendum ante accumsan. Duis eros lorem, ullamcorper a semper nec, rhoncus eu sapien. Sed tortor nisi, consequat a neque sed,
          posuere ornare felis. Maecenas rutrum quis orci sed porta. Proin posuere metus in lorem placerat semper. Aenean felis mi, auctor sed pretium fringilla, ornare quis ex.',
      # TODO: Add topic URL here
      featured_topic_url: '',
      featured_link_text: 'View topic page'
    }
  %>

  <% if @highlighted_pr.present? && @highlighted_pr.name.present? && @highlighted_pr.highlight_body.present? && @highlighted_pr.slug.present? && @highlighted_pr.highlight_attachment.exists? %>
    <%= render partial: 'home/featured_section', locals: {
        section_name: 'practice',
        image_source: "#{@highlighted_pr.highlight_attachment_s3_presigned_url}",
        image_alt_text: "#{@highlighted_pr.name} Featured practice image",
        featured_h2: "#{@highlighted_pr.name}",
        featured_body_text: "#{@highlighted_pr.highlight_body}",
        featured_topic_url: "/practices/#{@highlighted_pr.slug}",
        featured_link_text: 'View practice'
      }
    %>
  <% end %>

  <section class="nominate-practice-section bg-ink" role="region" aria-label="Nominate a practice section">
    <div class="grid-container height-full">
      <div class="grid-row desktop:grid-gap-3">
        <div class="grid-col-4 margin-top-8 margin-bottom-4 desktop:margin-bottom-0 desktop:margin-top-0 desktop:display-flex desktop:flex-justify-center">
          <img src="<%= asset_path('nominate-practice-logo.svg') %>" alt="Nominate a practice logo" />
        </div>
        <div class="grid-col-12 desktop:grid-col-8">
          <h2 class="usa-prose-h2 font-sans-xl line-height-37px margin-bottom-2 margin-top-0 text-white">Nominate a practice</h2>
          <p class="line-height-26 margin-bottom-2 text-white">
            Are you working on an innovative practice that’s making a difference at VA? Submit a nomination for the practice to be included on the Diffusion Marketplace.
          </p>
          <a class="dm-alt-link-light display-inline-block margin-bottom-8 desktop:margin-bottom-0" href="<%= nominate_a_practice_path %>">Start nomination</a>
        </div>
      </div>
    </div>
  </section>
  <section class="newsletter-subscription-section bg-primary-darker padding-y-4 desktop:padding-y-8" role="region" aria-label="Subscribe to monthly newsletter section">
    <div class="grid-container height-full">
      <div class="grid-row desktop:grid-gap-3">
        <div class="grid-col-12 desktop:grid-col-6 text-white">
          <h3 class="usa-prose-h3 margin-top-4 margin-bottom-2 desktop:margin-top-0 text-bold">Subscribe to the monthly newsletter</h3>
          <p class="usa-prose-body margin-bottom-4 desktop:margin-bottom-0">Keep up to date on the latest Diffusion Marketplace news.</p>
        </div>
        <div class="grid-col-12 desktop:grid-col-6 subscribe-button-container margin-bottom-4 desktop:margin-bottom-0">
          <button class="dm-button--inverse-secondary margin-right-0">Subscribe today</button>
        </div>
      </div>
    </div>
  </section>
</div>
