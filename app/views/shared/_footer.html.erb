<%
  path_options = {
    editors: {
      back: nil,
      continue: practice_introduction_path(@practice)
    },
    introduction: {
      back: practice_editors_path(@practice),
      continue: practice_adoptions_path(@practice)
    },
    adoptions: {
      back: practice_introduction_path(@practice),
      continue: practice_overview_path(@practice)
    },
    overview: {
      back: practice_adoptions_path(@practice),
      continue: practice_implementation_path(@practice)
    },
    implementation: {
      back: practice_overview_path(@practice),
      continue: practice_about_path(@practice)
    },
    about: {
      back: practice_implementation_path(@practice),
      continue: nil
    }
  } if @practice.present?

  is_practice_editor = params[:controller] === 'practices' && NavigationHelper::PRACTICE_EDITOR_PAGES.include?(params[:action])
%>

<footer class="usa-footer usa-footer--big <%= yield(:footer_classes) %>">
  <%# only show return to top on mobile views, practice show page and long practice editor pages (per design 9/21/21) %>
  <div
    class="grid-container usa-footer__return-to-top<%= params[:controller] === 'practices' && NavigationHelper::RETURN_TO_TOP_PAGES.include?(params[:action]) ? ' desktop:display-block' : ' tablet:display-none' %> margin-top-8 tablet:margin-top-0"
  >
    <button class="dm-button--unstyled-primary dm-return-to-top width-auto">Return to top</button>
  </div>

  <%# 'Back' and 'Continue' buttons for practice editor %>
  <% if is_practice_editor %>
    <div class="bg-base-lightest">
      <div class="desktop:padding-y-2 grid-container">
        <div class="grid-row">
          <%
            action_as_sym = params[:action].present? ? params[:action].to_sym : nil
            back_path = path_options[action_as_sym][:back] || nil
            continue_path = path_options[action_as_sym][:continue] || nil
          %>
          <%= render partial: 'practices/shared/back_and_continue_buttons', locals: { back_path: back_path, continue_path: continue_path } %>
        </div>
      </div>
    </div>
  <% end %>

  <div class="usa-footer__primary-section bg-primary-darker padding-y-4 desktop:padding-x-7">
    <nav class="usa-footer__nav margin-x-auto padding-0" aria-label="Footer navigation">
      <section class="usa-footer__primary-content usa-footer__primary-content--collapsible">
        <img src="<%= asset_path( 'dm-footer-logo.png' ) %>" alt="VA | Diffusion Marketplace footer logo"/>
        <div class="grid-row text-white margin-bottom-5">
          <p class="font-sans-md line-height-sans-6">
            An official website of the U.S. Department of Veterans Affairs
          </p>
        </div>
        <div class="grid-row margin-bottom-8">
          <div class="grid-col-12 desktop:grid-col-3">
            <ul class="add-list-reset">
              <li class="grid-row">
                <%= link_to 'Home',
                            root_path,
                            class: 'dm-footer-link margin-bottom-2'
                %>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="/about#contact-us">
                  Contact us
                </a>
              </li>
              <li class="grid-row">
                <%= link_to 'Nominate an innovation',
                            nominate_an_innovation_path,
                            class: 'dm-footer-link margin-bottom-2'
                %>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://choose.va.gov/">
                  Choose VA
                </a>
              </li>
            </ul>
          </div>
          <div class="grid-col-12 desktop:grid-col-3">
            <ul class="add-list-reset">
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/ABOUT_VA/index.asp">
                  About VA
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.section508.va.gov/">
                  Accessibility support
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/performance-dashboard/">
                  Performance reports
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/foia/">
                  FOIA requests
                </a>
              </li>
            </ul>
          </div>
          <div class="grid-col-12 desktop:grid-col-3">
            <ul class="add-list-reset">
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/web/standards/disclaimer.cfm">
                  Disclaimers
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="/open-calls">
                  Open calls
                </a>
              </li>
              <li class="grid-row">
                <%= link_to 'Terms and conditions',
                            terms_and_conditions_path,
                            class: 'dm-footer-link margin-bottom-2'
                %>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/privacy-policy/">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>
          <div class="grid-col-12 desktop:grid-col-3">
            <ul class="add-list-reset">
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/ormdi/NOFEAR_Select.asp">
                  No FEAR Act data
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/accountability/">
                  Whistleblower Protection
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/oig/">
                  Office of the Inspector General
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.data.va.gov/">
                  Open data
                </a>
              </li>
              <li class="grid-row">
                <a class="dm-footer-link margin-bottom-2" href="https://www.va.gov/vulnerability-disclosure-policy/">
                  Vulnerability Disclosure Policy
                </a>
              </li>
            </ul>
          </div>
        </div>
        <p class="font-sans-md line-height-sans-6 text-white">
          Looking for U.S. government information and services? <a class="dm-alt-link-white display-inline-block text-semibold" href="https://www.usa.gov">Visit USA.gov</a>
        </p>
      </section>
    </nav>
  </div>
</footer>
